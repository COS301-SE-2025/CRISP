#!/bin/bash

# CRISP Platform Help Script
echo "ğŸ›¡ï¸  CRISP - Cyber Risk Information Sharing Platform"
echo "=================================================="
echo ""
echo "ğŸ“– Available Commands:"
echo ""

echo "ğŸš€ SERVER MANAGEMENT:"
echo "  ./run_server.sh      - Start the Django development server"
echo "  ./stop_server.sh     - Stop all Django server processes"
echo "  ./check_status.sh    - Check platform status and health"
echo ""

echo "ğŸ§ª TESTING:"
echo "  ./run_tests.sh models       - Run quick model tests (28 tests)"
echo "  ./run_tests.sh all          - Run all comprehensive tests (675+ tests)"
echo "  ./run_tests.sh trust        - Run trust management tests"
echo "  ./run_tests.sh user         - Run user management tests"
echo "  ./run_tests.sh integration  - Run integration tests"
echo ""

echo "ğŸ”§ MANUAL COMMANDS:"
echo "  cd crisp && python3 manage.py runserver 0.0.0.0:8000  - Start server manually"
echo "  cd crisp && python3 manage.py test --keepdb           - Run tests manually"
echo "  cd crisp && python3 manage.py createsuperuser         - Create admin user"
echo "  cd crisp && python3 manage.py migrate                 - Apply database migrations"
echo "  cd crisp && python3 manage.py check                   - Check Django configuration"
echo ""

echo "ğŸŒ ACCESS POINTS (when server is running):"
echo "  http://localhost:8000           - Main application"
echo "  http://localhost:8000/admin/    - Admin interface"
echo "  http://localhost:8000/api/v1/   - RESTful API endpoints"
echo ""

echo "ğŸ“Š PLATFORM FEATURES:"
echo "  âœ… Trust Management - Organizations can establish trust relationships"
echo "  âœ… User Management - Role-based access control (Viewer, Publisher, Admin)"
echo "  âœ… Security Features - JWT auth, audit logging, rate limiting"
echo "  âœ… RESTful API - Comprehensive endpoints for all operations"
echo "  âœ… PostgreSQL Database - Production-ready data storage"
echo "  âœ… Comprehensive Testing - 675+ tests with 99%+ success rate"
echo ""

echo "ğŸ” USER ROLES:"
echo "  ğŸ‘ï¸  Viewer - View shared intelligence within trust relationships"
echo "  ğŸ“¤ Publisher - Share intelligence, manage users, create trust relationships"
echo "  ğŸ‘‘ BlueVision Administrator - Full system access and monitoring"
echo ""

echo "ğŸ› ï¸  TROUBLESHOOTING:"
echo "  â€¢ Port in use: ./stop_server.sh then ./run_server.sh"
echo "  â€¢ Database issues: Check PostgreSQL with 'pg_isready'"
echo "  â€¢ Django errors: Run 'cd crisp && python3 manage.py check'"
echo "  â€¢ Test failures: Run './run_tests.sh models' for quick check"
echo ""

echo "ğŸ“š PROJECT STRUCTURE:"
echo "  core/trust/          - Trust management module"
echo "  core/user_management/ - User and organization management"
echo "  core/tests/          - Comprehensive test suite"
echo "  crisp/TrustManagement/ - Django project settings"
echo ""

echo "ğŸ’¡ QUICK START:"
echo "  1. ./check_status.sh  - Check system status"
echo "  2. ./run_server.sh    - Start the server"
echo "  3. ./run_tests.sh models - Verify functionality"
echo "  4. Visit http://localhost:8000 - Use the platform"
echo ""

echo "ğŸ†˜ SUPPORT:"
echo "  â€¢ Check logs in crisp/logs/ for debugging"
echo "  â€¢ Run status check for system health"
echo "  â€¢ Review test results for functionality verification"
echo ""

echo "ğŸ CRISP Platform Ready for Cyber Risk Information Sharing! ğŸ›¡ï¸"